(()=>{const e=document.querySelector(".book-container"),t=document.getElementById("add-book"),n=document.getElementById("new-book");let o=[];function d(e,t,n,d){this.author=e,this.title=t,this.pages=n,this.read=d,function(e){o.push(e)}(this)}function a(){document.querySelectorAll("#book-card").forEach((e=>e.remove())),o.forEach(((t,n)=>{let o=document.createElement("div");o.setAttribute("id","book-card"),o.textContent="Book number: "+(n+1);let d=document.createElement("p"),a=document.createElement("p"),l=document.createElement("p"),i=document.createElement("p");d.textContent="Author: "+t.author,a.textContent="Title: "+t.title,l.textContent="Pages: "+t.pages,i.textContent="Book read? "+t.read,o.appendChild(d),o.appendChild(a),o.appendChild(l),o.appendChild(i);let u=document.createElement("button");u.setAttribute("id","remove-button"),u.textContent="Remove Book",u.setAttribute("data-item-index",n),o.appendChild(u);let c=document.createElement("button");c.setAttribute("id","status-button"),c.textContent="Change status",c.setAttribute("data-item-index",n),o.appendChild(c),e.appendChild(o)})),document.querySelectorAll("#remove-button").forEach((e=>{e.addEventListener("click",(()=>{let t=e.getAttribute("data-item-index");o.splice(t,1),a()}))})),document.querySelectorAll("#status-button").forEach((e=>{e.addEventListener("click",(()=>{let t=e.getAttribute("data-item-index"),n=o[t];"Yes"===n.read?(n.read="No",a()):(n.read="Yes",a())}))}))}function l(){let e=document.querySelector(".form-container");"none"===e.style.display?e.style.display="flex":e.style.display="none"}n.addEventListener("click",(()=>{l()})),t.addEventListener("click",(()=>{!function(){let e=document.getElementById("author").value,t=document.getElementById("title").value,n=document.getElementById("pages").value,o=document.getElementById("read").value;newBook=new d(e,t,n,o)}(),l(),a()}))})();